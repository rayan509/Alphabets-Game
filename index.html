<!DOCTYPE html>
<html lang="ar">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #050f45;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(7, 100px);
            gap: 5px;
            justify-content: center;
        }

        .hex {
            width: 100px;
            height: 100px;
            background-color: #fdf5e6;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 50px;
            font-weight: bold;
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
            cursor: pointer;
        }

        .hex1 {
            width: 100px;
            height: 100px;
            background-color: #fdf5e6;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
        }

        .hex2 {
            width: 60px;
            height: 52px;
            background-color: #fdf5e6;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
        }

        .red {
            background-color: red;
        }

        .green {
            background-color: green;
        }

        .blue {
            background-color: #050f45;
        }

        .red1 {
            background-color: red;
        }

        .green1 {
            background-color: green;
        }

        .selected {
            background-color: yellow;
        }

        .choose {
            margin-top: 70px;
            display: flex;
        }


        /* The Modal (background) */
        .modal {
            display: none;
            /* Hidden by default */
            position: fixed;
            /* Stay in place */
            z-index: 1;
            /* Sit on top */
            padding-top: 100px;
            /* Location of the box */
            left: 0;
            top: 0;
            width: 100%;
            /* Full width */
            height: 100%;
            /* Full height */
            overflow: auto;
            /* Enable scroll if needed */
            background-color: rgb(0, 0, 0);
            /* Fallback color */
            background-color: rgba(0, 0, 0, 0.4);
            /* Black w/ opacity */
        }

        /* Modal Content */
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border: 1px solid #888;
            width: 50%;
        }

        /* The Close Button */
        .close {
            color: #aaaaaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
    <title>حروف و ألوف</title>
</head>

<body>
    <div class="grid">
        <div id="1" class="hex1 blue"></div>
        <div id="2" class="hex1 green"></div>
        <div id="3" class="hex1 green"></div>
        <div id="4" class="hex1 green"></div>
        <div id="5" class="hex1 green"></div>
        <div id="6" class="hex1 green"></div>

        <div id="7" class="hex1 blue"></div>
        <div id="8" class="hex1 red"></div>
        <div id="9" class="hex board">9</div>
        <div id="10" class="hex board">10</div>
        <div id="11" class="hex board">11</div>
        <div id="12" class="hex board">12</div>

        <div id="13" class="hex board">13</div>
        <div id="14" class="hex1 red"></div>
        <div id="15" class="hex1 red"></div>
        <div id="16" class="hex board">16</div>
        <div id="17" class="hex board">17</div>
        <div id="18" class="hex board">18</div>

        <div id="19" class="hex board">19</div>
        <div id="20" class="hex board ">20</div>
        <div id="21" class="hex1 red"></div>
        <div id="22" class="hex1 red"></div>
        <div id="23" class="hex board">23</div>
        <div id="24" class="hex board">24</div>

        <div id="25" class="hex board">25</div>
        <div id="26" class="hex board ">26</div>
        <div id="27" class="hex board ">27</div>
        <div id="28" class="hex1 red"></div>
        <div id="29" class="hex1 red"></div>
        <div id="30" class="hex board">30</div>

        <div id="31" class="hex board">31</div>
        <div id="32" class="hex board">32</div>
        <div id="33" class="hex board ">33</div>
        <div id="34" class="hex board ">34</div>
        <div id="35" class="hex1 red"></div>
        <div id="36" class="hex1 red"></div>

        <div id="37" class="hex board">37</div>
        <div id="38" class="hex board">38</div>
        <div id="39" class="hex board">39</div>
        <div id="40" class="hex board">40</div>
        <div id="41" class="hex board">41</div>
        <div id="42" class="hex1 red"></div>

        <div id="43" class="hex1 blue"></div>
        <div id="44" class="hex1 green"></div>
        <div id="45" class="hex1 green"></div>
        <div id="46" class="hex1 green"></div>
        <div id="47" class="hex1 green"></div>
        <div id="48" class="hex1 green"></div>
        <div id="49" class="hex1 blue"></div>




        <!-- The Modal -->
        <div dir="rtl" id="myModal" class="modal">

            <!-- Modal content -->
            <div class="modal-content">
                <span class="close" style="float: inline-end;">&times;</span>
                <br />
                <p style="font-size: 30px; font-weight: bold;">النقطة تذهب للفريق</p>
                <h3 id="green" style="color: green; font-size: 30px; font-weight: bold; cursor: pointer;">الأخضر</h3>
                <h3 id="red" style="color: red; font-size: 30px; font-weight: bold; cursor: pointer;">الأحمر</h3>
            </div>

        </div>


    </div>

    <script>
        let id = 0;
        const arabicLetters = [
            'أ', 'ب', 'ت', 'ث', 'ج', 'ح', 'خ', 'د', 'ذ', 'ر', 'ز',
            'س', 'ش', 'ص', 'ض', 'ط', 'ظ', 'ع', 'غ', 'ف', 'ق', 'ك',
            'ل', 'م', 'ن', 'هـ', 'و', 'ي'
        ];
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        shuffleArray(arabicLetters);
        document.querySelectorAll('.board').forEach((hex, index) => {
            hex.textContent = arabicLetters[index];
        });

        const hexes = document.querySelectorAll('.board');
        hexes.forEach(hex => {
            hex.addEventListener('click', (event) => {
                if (event.target.classList.contains('selected')) {
                    event.target.classList.toggle('open');
                    id = event.target.id;
                    console.log(id);
                }
                else {
                    const selected = document.querySelectorAll('.selected');
                    selected.forEach(sel => {
                        sel.classList.remove('selected');
                    });
                    hex.classList.toggle('selected');
                }
                const selected = document.querySelectorAll('.selected');
                selected.forEach(sel => {
                    sel.classList.remove('selected');
                });

                hex.classList.toggle('selected');


                // فتح المودال عند الضغط على عنصر مختار
                if (hex.classList.contains('open')) {
                    modal.style.display = "block";
                }
            });
        });


        document.querySelectorAll('#red').forEach(red => {
            red.addEventListener('click', () => {
                document.querySelectorAll('.selected').forEach(sel => {
                    sel.classList.remove('selected');
                    sel.classList.remove('green');
                    sel.classList.add('red');
                    var modal = document.getElementById("myModal");
                    modal.style.display = "none";
                });
            });
        });

        document.querySelectorAll('#green').forEach(green => {
            green.addEventListener('click', () => {
                document.querySelectorAll('.selected').forEach(sel => {
                    sel.classList.remove('selected');
                    sel.classList.remove('red');
                    sel.classList.add('green');
                    var modal = document.getElementById("myModal");
                    modal.style.display = "none";
                });
            });
        });

        // التحكم في المودال
        var modal = document.getElementById("myModal");
        var span = document.getElementsByClassName("close")[0];

        span.onclick = function () {
            modal.style.display = "none";
        }

        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        // Get the modal
        var modal = document.getElementById("myModal");

        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks the button, open the modal 
        btn.onclick = function () {
            modal.style.display = "block";
        }

        // When the user clicks on <span> (x), close the modal
        span.onclick = function () {
            modal.style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

    </script>
</body>

</html>